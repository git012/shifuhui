webpackJsonp([20],{1063:function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(231),o=s(r),n=a(116),i=s(n),c=a(100),d=s(c);t.default={name:"merchant-integral",data:function(){return{columns:[{title:"订单编号",key:"order_no"},{title:"用户名",width:"10%",key:"member_name"},{title:"时间",sortable:!0,width:"15%",key:"date_added"},{title:"购物指数",sortable:!0,width:"12%",key:"username"},{title:"可提现金额",sortable:!0,width:"12%",key:"cash"},{title:"白积分",sortable:!0,width:"12%",key:"score"},{title:"总金额",sortable:!0,width:"12%",key:"total_score"},{title:"状态",sortable:!0,key:"status",width:"8%",align:"center",render:function(e,t){var a="default",s="交易中";return 1==t.row.status&&(a="green",s="待支付"),2==t.row.status&&(a="red",s="已支付"),e("Tag",{props:{color:a,size:"small"}},s)}}],saveType:"new",tableData:[],page:{dataCount:0,pageCount:0,pageSize:10,pageNumber:1,pageSizeOpts:[10,20,50,100]},currentData:{id:0,order_no:"",merchant_id:0,member_name:"",total_score:1,status:1,date_added:"",cash:0,score:0},getLoading:!1,searchData:{keyword:"",searchDate:[],startDate:"",endDate:""},searchValidata:{}}},methods:{showEdit:function(t){this.currentData=e.extend(!0,{},this.tableData[t]),this.currentData.dataIndex=t,this.saveType="edit",this.editModal=!0},cancelEdit:function(){this.editModal=!1},changePage:function(e){this.page.pageNumber=e,this.search(e)},changePageSize:function(e){this.page.pageSize=e,this.page.pageCount=Math.ceil(this.page.dataCount/this.page.pageSize),this.search()},resetSearch:function(){this.searchData={keyword:"",searchDate:[],startDate:"",endDate:""},this.page.pageNumber=1,this.dataReady+=1,this.init()},search:function(e){this.searchData.searchDate.length&&(this.searchData.startDate=i.default.FormatDate(this.searchData.searchDate[0],"yyyy-MM-dd"),this.searchData.endDate=i.default.FormatDate(this.searchData.searchDate[1],"yyyy-MM-dd")),this.page.pageNumber=1,e&&(this.page.pageNumber=e),this.init()},init:function(){var t=this,a={ssid:d.default.get("ssid"),page:this.page.pageNumber,pageSize:this.page.pageSize};""!=this.searchData.keyword&&(a.search=i.default.trim(this.searchData.keyword)),""!=this.searchData.startDate&&(a.startDate=this.searchData.startDate),""!=this.searchData.endDate&&(a.endDate=this.searchData.endDate),e.ajax({url:o.default.api.order.getList,type:"POST",dataType:"json",data:a}).done(function(e){e?0==e.code?(t.page.dataCount=e.data.count,t.page.pageCount=Math.ceil(t.page.dataCount/t.page.pageSize),t.tableData=e.data.list):(t.$Message.error(e.message),e.code==o.default.errorCode.runOut.num&&t.$store.commit("logout",t)):t.$Message.error("获取订单卡列表失败 "+status)}).fail(function(e,a,s){t.$Message.error("获取订单卡列表失败 "+a)})}},mounted:function(){}}}).call(t,a(154))},1160:function(e,t){},1282:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"person"}}),e._v("\n            订单列表\n        ")],1),e._v(" "),a("div",{staticClass:"ordler-list"},[a("div",{staticClass:"search-box"},[a("Form",{ref:"searchData",attrs:{model:e.searchData,rules:e.searchValidata,inline:""}},[a("FormItem",{attrs:{prop:"keyword"}},[a("Input",{attrs:{type:"text",placeholder:"搜索订单号或者用户名"},model:{value:e.searchData.keyword,callback:function(t){e.$set(e.searchData,"keyword",t)},expression:"searchData.keyword"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-eye"},slot:"prepend"})],1)],1),e._v(" "),a("FormItem",{attrs:{prop:"searchDate"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placeholder:"请选择时间范围"},model:{value:e.searchData.searchDate,callback:function(t){e.$set(e.searchData,"searchDate",t)},expression:"searchData.searchDate"}})],1),e._v(" "),a("FormItem",[a("ButtonGroup",[a("Button",{attrs:{type:"primary",icon:"search"},on:{click:function(t){e.search()}}},[e._v("搜索")]),e._v(" "),a("Button",{on:{click:e.resetSearch}},[e._v("清空")])],1)],1)],1)],1),e._v(" "),a("Table",{attrs:{border:"",columns:e.columns,loading:e.getLoading,data:e.tableData}}),e._v(" "),a("div",{staticClass:"page-box"},[e.page.pageCount>1?a("Page",{attrs:{total:e.page.dataCount,"show-total":"","page-size-opts":e.page.pageSizeOpts,"page-size":e.page.pageSize,"show-elevator":"",placement:"top","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}}):e._e()],1)],1)])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},997:function(e,t,a){a(1160);var s=a(66)(a(1063),a(1282),null,null);s.options.__file="F:\\changhaochen\\GitHub\\shifuhui\\src\\views\\merchant\\integral.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] integral.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports}});