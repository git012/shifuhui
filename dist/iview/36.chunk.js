webpackJsonp([36],{1041:function(t,a,e){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var s=e(230),i=r(s),n=e(116),d=r(n),c=e(100),o=r(c);a.default={name:"dailifenh",data:function(){return{typeEnd:"date",currentData:{merchantProvinceId:"27",merchantCityId:"288",merchantDistrictId:"2515"},defaultData:{merchantProvinceId:"27",merchantCityId:"288",merchantDistrictId:"2515"},searchData:{keyword:"",searchDate:[],startDate:"",endDate:"",type:0},areaData:{areaDataReady:3,province:[],citys:[],district:[]},agent_name:"----",total_score:"",agent_score:"",member_score:"",bd_member_score:"",new_merchant_count:"",shipStatus:["日","月","年"],searchValidata:{}}},methods:{resetCurrentData:function(){this.currentData=t.extend(!0,{},this.defaultData)},resetSearch:function(){this.searchData={keyword:"",searchDate:[],startDate:"",endDate:"",type:0}},setProvince:function(){var a=this;t.ajax({url:i.default.apiRootPath+i.default.api.public.getProvince,type:"POST",dataType:"json",data:{ssid:o.default.get("ssid")}}).done(function(t){if(t&&0==t.code){var e=[];for(var r in t.data)e[parseInt(t.data[r].id)]={id:t.data[r].id,name:t.data[r].name};a.areaData.province=e}})},setCity:function(a,e){var r=this;a&&(e||(this.currentData.merchantCityId="",this.currentData.merchantDistrictId=""),this.areaData.citys=[],this.areaData.district=[],t.ajax({url:i.default.apiRootPath+i.default.api.public.getCity,type:"POST",dataType:"json",data:{ssid:o.default.get("ssid"),pid:a}}).done(function(t){if(t&&0==t.code){var a=[];for(var e in t.data)a[parseInt(t.data[e].id)]={id:t.data[e].id,name:t.data[e].name,pid:t.data[e].pid};r.areaData.citys=a}}))},setDistrict:function(a,e){var r=this;a&&(this.areaData.district=[],e||(this.currentData.merchantDistrictId=""),t.ajax({url:i.default.apiRootPath+i.default.api.public.getDistrict,type:"POST",dataType:"json",data:{ssid:o.default.get("ssid"),cid:a}}).done(function(t){if(t&&0==t.code){var a=[];for(var e in t.data)a[parseInt(t.data[e].id)]={id:t.data[e].id,name:t.data[e].name,cid:t.data[e].cid};r.areaData.district=a}}))},search:function(){this.searchData.startDate<=this.searchData.endDate?(this.searchData.startDate=d.default.FormatDate(this.searchData.startDate,"yyyy-MM-dd"),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd"),"year"==this.typeEnd?(this.searchData.endDate=d.default.DateAdd("y ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.DateAdd("d ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd")):"month"==this.typeEnd&&(this.searchData.endDate=d.default.DateAdd("m ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.DateAdd("d ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd")),this.getList()):i.default.showError({vm:this,errorMsg:"结束时间不能小于开始时间"})},download:function(){""==this.searchData.startDate&&""==this.searchData.endDate?i.default.showError({vm:this,errorMsg:"时间不能为空"}):this.searchData.startDate<=this.searchData.endDate?(this.searchData.startDate=d.default.FormatDate(this.searchData.startDate,"yyyy-MM-dd"),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd"),"year"==this.typeEnd?(this.searchData.endDate=d.default.DateAdd("y ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.DateAdd("d ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd")):"month"==this.typeEnd&&(this.searchData.endDate=d.default.DateAdd("m ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.DateAdd("d ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd")),this.downloadlist()):i.default.showError({vm:this,errorMsg:"结束时间不能小于开始时间"})},downloadlist:function(){if(""!=this.searchData.startDate)this.searchData.startDate=this.searchData.startDate;else{var t=new Date,a=t.getFullYear(),e=t.getMonth()+1;e=e<10?"0"+e:e;var r=t.getDate();r=r<10?"0"+r:r,this.searchData.startDate=a+"-"+e+"-01"}if(""!=this.searchData.endDate)this.searchData.endDate=this.searchData.endDate;else{var t=new Date,a=t.getFullYear(),e=t.getMonth()+1;e=e<10?"0"+e:e;var r=t.getDate();r=r<10?"0"+r:r,this.searchData.endDate=a+"-"+e+"-"+r}var s=i.default.apiRootPath+i.default.api.dataStatistics.dailifenh.dw;""==this.searchData.startDate&&""==this.searchData.endDate||(location.href=s+"&ssid="+o.default.get("ssid")+"&startDate="+this.searchData.startDate+"&endDate="+this.searchData.endDate+"&district_id="+this.currentData.merchantDistrictId)},getList:function(){var a=this,e={ssid:o.default.get("ssid")};if(""!=this.searchData.keyword&&(e.search=this.searchData.keyword),""!=this.searchData.startDate)e.startDate=this.searchData.startDate;else{var r=new Date,s=r.getFullYear(),n=r.getMonth()+1;n=n<10?"0"+n:n;var d=r.getDate();d=d<10?"0"+d:d,e.startDate=s+"-"+n+"-01"}if(this.searchData.shipStatus>=0?e.type=this.searchData.shipStatus+1:e.type=1,""!=this.searchData.endDate)e.endDate=this.searchData.endDate;else{var r=new Date,s=r.getFullYear(),n=r.getMonth()+1;n=n<10?"0"+n:n;var d=r.getDate();d=d<10?"0"+d:d,e.endDate=s+"-"+n+"-"+d}""!=this.currentData.merchantCityId&&(e.city_id=this.currentData.merchantCityId),""!=this.currentData.merchantDistrictId&&(e.district_id=this.currentData.merchantDistrictId),""!=this.currentData.merchantProvinceId&&(e.province_id=this.currentData.merchantProvinceId),t.ajax({url:i.default.apiRootPath+i.default.api.dataStatistics.dailifenh.list,type:"POST",dataType:"json",data:e}).done(function(t){a.dataReady--,t?0==t.code?(a.agent_name=t.data.agent_name,a.total_score=(Number(t.data.total_score)/1e4).toFixed(6),a.agent_score=(Number(t.data.agent_score)/1e4).toFixed(6),a.member_score=(Number(t.data.member_score)/1e4).toFixed(6),a.bd_member_score=(Number(t.data.bd_member_score)/1e4).toFixed(6)):i.default.showError({vm:a,errorMsg:""}):i.default.showError({vm:a,errorMsg:"请求失败"})}).fail(function(t,e,r){a.dataReady--,i.default.showError({vm:a,errorMsg:"服务器通讯失败"})})}},mounted:function(){this.setProvince(),this.getList()},activated:function(){}}}).call(a,e(154))},1141:function(t,a){},1225:function(t,a,e){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Card",[e("div",{staticClass:"search-box"},[e("Form",{ref:"searchData",staticStyle:{display:"inline-block"},attrs:{model:t.searchData,rules:t.searchValidata,inline:""}},[e("FormItem",{attrs:{prop:"searchDate"}},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{type:t.typeEnd,placeholder:"请选择开始时间"},model:{value:t.searchData.startDate,callback:function(a){t.$set(t.searchData,"startDate",a)},expression:"searchData.startDate"}})],1),t._v(" "),e("FormItem",{attrs:{prop:"searchDate"}},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{type:t.typeEnd,placeholder:"请选择结束时间"},model:{value:t.searchData.endDate,callback:function(a){t.$set(t.searchData,"endDate",a)},expression:"searchData.endDate"}})],1),t._v(" "),e("FormItem",{staticStyle:{width:"500px"},attrs:{label:"地址：",prop:"merchantProvinceId"}},[e("div",{staticStyle:{display:"inline-block",width:"140px"}},[e("Select",{attrs:{placeholder:"请选择省份"},on:{"on-change":t.setCity},model:{value:t.currentData.merchantProvinceId,callback:function(a){t.$set(t.currentData,"merchantProvinceId",a)},expression:"currentData.merchantProvinceId"}},t._l(t.areaData.province,function(a){return a?e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))]):t._e()}))],1),t._v(" "),e("div",{staticStyle:{display:"inline-block",width:"140px"}},[t.areaData.citys.length&&t.currentData.merchantProvinceId?e("Select",{attrs:{placeholder:"请选择城市"},on:{"on-change":t.setDistrict},model:{value:t.currentData.merchantCityId,callback:function(a){t.$set(t.currentData,"merchantCityId",a)},expression:"currentData.merchantCityId"}},t._l(t.areaData.citys,function(a){return a?e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))]):t._e()})):t._e()],1),t._v(" "),e("div",{staticStyle:{display:"inline-block",width:"140px"}},[t.areaData.district.length&&t.currentData.merchantCityId?e("Select",{attrs:{placeholder:"请选择区县"},model:{value:t.currentData.merchantDistrictId,callback:function(a){t.$set(t.currentData,"merchantDistrictId",a)},expression:"currentData.merchantDistrictId"}},t._l(t.areaData.district,function(a){return a?e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))]):t._e()})):t._e()],1)]),t._v(" "),e("FormItem",[e("ButtonGroup",[e("Button",{attrs:{type:"primary",icon:"search"},on:{click:function(a){t.search()}}},[t._v("搜索")]),t._v(" "),e("Button",{attrs:{type:"success",icon:"android-download"},on:{click:function(a){t.download()}}},[t._v("导出")]),t._v(" "),e("Button",{on:{click:t.resetSearch}},[t._v("清空")])],1)],1)],1)],1),t._v(" "),e("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"start"}},[e("Col",{attrs:{span:"4"}},[t._v("账号："),e("span",{staticClass:"num",staticStyle:{color:"#c33531"}},[t._v(t._s(t.agent_name))])]),t._v(" "),e("Col",{attrs:{span:"4"}},[t._v("总积分(万)："),e("span",{staticClass:"num",staticStyle:{color:"#c33531"}},[t._v(t._s(t.total_score))])]),t._v(" "),e("Col",{attrs:{span:"4"}},[t._v("代理公司积分(万)："),e("span",{staticClass:"num",staticStyle:{color:"#c33531"}},[t._v(t._s(t.agent_score))])]),t._v(" "),e("Col",{attrs:{span:"4"}},[t._v("股东积分(万)："),e("span",{staticClass:"num",staticStyle:{color:"#c33531"}},[t._v(t._s(t.member_score))])]),t._v(" "),e("Col",{attrs:{span:"4"}},[t._v("BD积分(万)："),e("span",{staticClass:"num",staticStyle:{color:"#c33531"}},[t._v(t._s(t.bd_member_score))])])],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},982:function(t,a,e){e(1141);var r=e(65)(e(1041),e(1225),null,null);r.options.__file="C:\\Users\\Administrator\\Documents\\Tencent Files\\601041478\\FileRecv\\git\\manage\\src\\views\\dataStatistics\\dailifenh.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] dailifenh.vue: functional components are not supported with templates, they should use render functions."),t.exports=r.exports}});