webpackJsonp([37],{1040:function(t,a,e){"use strict";(function(t){function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var r=e(230),i=s(r),n=e(116),d=s(n),h=e(100),o=s(h),c=e(231),D=s(c);a.default={name:"commission",data:function(){return{charts:"",textTitle:"服务费统计",typeEnd:"date",searchData:{keyword:"",searchDate:[],startDate:"",endDate:"",type:0},count:{successTotalAmount:"0.00",fail:"0.00",waitTotalAmount:"0.00"},type_1_sum:[],type_2_sum:[],type_3_sum:[],type_4_sum:[],type_date:[],shipStatus:["日","月","年"],searchValidata:{}}},methods:{Onchange:function(t){this.typeEnd=0===t?"date":1==t?"month":"year"},drawPie:function(t){this.charts=D.default.init(document.getElementById(t)),this.charts.setOption({title:{text:this.textTitle},tooltip:{trigger:"axis"},legend:{data:["提现手续费","代理分红转入预存款手续费","消费增值积分转入预存款手续费"]},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",data:this.type_date}],yAxis:[{type:"value"}],series:[{name:"提现手续费",type:"line",data:this.type_1_sum},{name:"代理分红转入预存款手续费",type:"line",data:this.type_2_sum},{name:"消费增值积分转入预存款手续费",type:"line",data:this.type_3_sum}]})},resetCurrentData:function(){this.currentData=t.extend(!0,{},this.defaultData)},resetSearch:function(){this.searchData={keyword:"",searchDate:[],startDate:"",endDate:"",type:0}},search:function(){this.searchData.startDate<=this.searchData.endDate?(this.searchData.startDate=d.default.FormatDate(this.searchData.startDate,"yyyy-MM-dd"),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd"),"year"==this.typeEnd?(this.searchData.endDate=d.default.DateAdd("y ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.DateAdd("d ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd")):"month"==this.typeEnd&&(this.searchData.endDate=d.default.DateAdd("m ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.DateAdd("d ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd")),this.getList()):i.default.showError({vm:this,errorMsg:"结束时间不能小于开始时间"})},download:function(){""==this.searchData.startDate&&""==this.searchData.endDate?i.default.showError({vm:this,errorMsg:"时间不能为空"}):this.searchData.startDate<=this.searchData.endDate?(this.searchData.startDate=d.default.FormatDate(this.searchData.startDate,"yyyy-MM-dd"),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd"),"year"==this.typeEnd?(this.searchData.endDate=d.default.DateAdd("y ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.DateAdd("d ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd")):"month"==this.typeEnd&&(this.searchData.endDate=d.default.DateAdd("m ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.DateAdd("d ",1,new Date(this.searchData.endDate)),this.searchData.endDate=d.default.FormatDate(this.searchData.endDate,"yyyy-MM-dd")),this.downloadlist()):i.default.showError({vm:this,errorMsg:"结束时间不能小于开始时间"})},downloadlist:function(){if(""!=this.searchData.startDate)this.searchData.startDate=this.searchData.startDate;else{var t=new Date,a=t.getFullYear(),e=t.getMonth()+1;e=e<10?"0"+e:e;var s=t.getDate();s=s<10?"0"+s:s,this.searchData.startDate=a+"-"+e+"-01"}if(""!=this.searchData.endDate)this.searchData.endDate=this.searchData.endDate;else{var t=new Date,a=t.getFullYear(),e=t.getMonth()+1;e=e<10?"0"+e:e;var s=t.getDate();s=s<10?"0"+s:s,this.searchData.endDate=a+"-"+e+"-"+s}var r=i.default.apiRootPath+i.default.api.dataStatistics.commission.dw;""==this.searchData.startDate&&""==this.searchData.endDate||(location.href=r+"&ssid="+o.default.get("ssid")+"&startDate="+this.searchData.startDate+"&endDate="+this.searchData.endDate)},getList:function(){var a=this,e={ssid:o.default.get("ssid")};if(""!=this.searchData.keyword&&(e.search=d.default.trim(this.searchData.keyword)),""!=this.searchData.startDate)e.startDate=this.searchData.startDate;else{var s=new Date,r=s.getFullYear(),n=s.getMonth()+1;n=n<10?"0"+n:n;var h=s.getDate();h=h<10?"0"+h:h,e.startDate=r+"-"+n+"-01"}if(this.searchData.shipStatus>=0?e.type=this.searchData.shipStatus+1:e.type=1,""!=this.searchData.endDate)e.endDate=this.searchData.endDate;else{var s=new Date,r=s.getFullYear(),n=s.getMonth()+1;n=n<10?"0"+n:n;var h=s.getDate();h=h<10?"0"+h:h,e.endDate=r+"-"+n+"-"+h}t.ajax({url:i.default.apiRootPath+i.default.api.dataStatistics.commission.list,type:"POST",dataType:"json",data:e}).done(function(t){if(a.dataReady--,t)if(0==t.code){if(a.count.successTotalAmount=(Number(null!=t.data.sum.charge?t.data.sum.charge:"0.00")/1e4/100).toFixed(6),a.count.fail=(Number(null!=t.data.sum.charge_2?t.data.sum.charge_2:"0.00")/1e4/100).toFixed(6),a.count.waitTotalAmount=(Number(null!=t.data.sum.charge_3?t.data.sum.charge_3:"0.00")/1e4/100).toFixed(6),void 0==t.data.list);else{a.type_1_sum=[],a.type_2_sum=[],a.type_3_sum=[],a.type_date=[];for(var e=0;e<t.data.list.length;e++)a.type_1_sum.push((Number(t.data.list[e].charge)/100/1e4).toFixed(6)),a.type_2_sum.push((Number(t.data.list[e].charge_2)/100/1e4).toFixed(6)),a.type_3_sum.push((Number(t.data.list[e].charge_3)/100/1e4).toFixed(6)),a.type_date.push(t.data.list[e].date);a.drawPie("mains")}a.tableData=t.data.list}else i.default.showError({vm:a,data:t,errorMsg:""});else i.default.showError({vm:a,data:t,errorMsg:"请求失败"})}).fail(function(t,e,s){a.dataReady--,i.default.showError({vm:a,errorMsg:"服务器通讯失败"})})}},mounted:function(){this.getList(),this.drawPie("mains")},activated:function(){this.drawPie("mains")}}}).call(a,e(154))},1121:function(t,a){},1202:function(t,a,e){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Card",[e("div",{staticClass:"search-box"},[e("Form",{ref:"searchData",staticStyle:{display:"inline-block"},attrs:{model:t.searchData,rules:t.searchValidata,inline:""}},[e("Select",{staticStyle:{width:"140px"},attrs:{placeholder:"选择时间类型"},on:{"on-change":t.Onchange},model:{value:t.searchData.shipStatus,callback:function(a){t.$set(t.searchData,"shipStatus",a)},expression:"searchData.shipStatus"}},t._l(t.shipStatus,function(a,s){return e("Option",{key:s,attrs:{value:s}},[t._v(t._s(a))])})),t._v(" "),e("FormItem",{attrs:{prop:"searchDate"}},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{type:t.typeEnd,placeholder:"请选择开始时间"},model:{value:t.searchData.startDate,callback:function(a){t.$set(t.searchData,"startDate",a)},expression:"searchData.startDate"}})],1),t._v(" "),e("FormItem",{attrs:{prop:"searchDate"}},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{type:t.typeEnd,placeholder:"请选择结束时间"},model:{value:t.searchData.endDate,callback:function(a){t.$set(t.searchData,"endDate",a)},expression:"searchData.endDate"}})],1),t._v(" "),e("FormItem",[e("ButtonGroup",[e("Button",{attrs:{type:"primary",icon:"search"},on:{click:function(a){t.search()}}},[t._v("搜索")]),t._v(" "),e("Button",{attrs:{type:"success",icon:"android-download"},on:{click:function(a){t.download()}}},[t._v("导出")]),t._v(" "),e("Button",{on:{click:t.resetSearch}},[t._v("清空")])],1)],1)],1)],1),t._v(" "),e("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"mains"}}),t._v(" "),e("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"start"}},[e("Col",{attrs:{span:"4"}},[t._v("提现手续费(万)："),e("span",{staticClass:"num",staticStyle:{color:"red"}},[t._v(t._s(t.count.successTotalAmount))])]),t._v(" "),e("Col",{attrs:{span:"6"}},[t._v("代理分红转入预存款手续费(万)："),e("span",{staticClass:"num",staticStyle:{color:"#c33531"}},[t._v(t._s(t.count.fail))])]),t._v(" "),e("Col",{attrs:{span:"6"}},[t._v("消费增值积分转入预存款手续费(万)："),e("span",{staticClass:"num",staticStyle:{color:"#2e4553"}},[t._v(t._s(t.count.waitTotalAmount))])])],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},981:function(t,a,e){e(1121);var s=e(65)(e(1040),e(1202),null,null);s.options.__file="C:\\Users\\Administrator\\Documents\\Tencent Files\\601041478\\FileRecv\\git\\manage\\src\\views\\dataStatistics\\commission.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] commission.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports}});